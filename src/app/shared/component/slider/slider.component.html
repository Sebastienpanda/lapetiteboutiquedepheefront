@if (isBrowser) {
	<swiper-container
		#swiperRef
		init="false"
		class="mt-16"
		id="product-swiper"
		aria-roledescription="carousel"
		tabindex="0"
	>
		@for (data of dataHttpResourceRef()?.value(); track data.id) {
			<swiper-slide [attr.aria-label]="'Produit ' + data.id + ' sur ' + dataHttpResourceRef()?.value()?.length">
				<div class="card bg-base-100 shadow-sm rounded-lg overflow-hidden">
					<span class="sr-only">Produit {{ data.id }} sur {{ dataHttpResourceRef()?.value()?.length }}</span>
					<figure class="h-80">
						<picture class="size-full">
							<source class="size-full object-cover" [srcset]="data.image.path_webp" type="image/webp" />
							<img
								[src]="data.image.path_png"
								[alt]="data.name"
								class="size-full object-cover"
								loading="lazy"
							/>
						</picture>
					</figure>
					<div class="card-body p-6">
						<span class="text-sm text-neutral uppercase tracking-widest">AUCUNE CATEGORIE</span>
						<h3 class="text-lg">{{ data.name }}</h3>
						<span class="text-base text-base-content">{{ data.price }}$</span>
						<div class="card-actions mt-4">
							<app-button variant="primary" class="w-full"> Ajouter au panier</app-button>
						</div>
					</div>
				</div>
			</swiper-slide>
		}
	</swiper-container>
	<div class="flex justify-center gap-3 mt-12" aria-label="Navigation du carrousel">
		<button
			type="button"
			class="btn btn-sm btn-circle border border-base-content text-primary bg-base-100 hover:bg-base-200 transition"
			#prevEl
			aria-label="Image précédente"
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				width="16"
				height="16"
				fill="none"
				stroke="currentColor"
				stroke-width="2"
				viewBox="0 0 24 24"
			>
				<path d="M15 18l-6-6 6-6" />
			</svg>
		</button>

		<button
			type="button"
			class="btn btn-sm btn-circle border border-base-content text-primary bg-base-100 hover:bg-base-200 transition"
			#nextEl
			aria-label="Image suivante"
		>
			<svg
				xmlns="http://www.w3.org/2000/svg"
				width="16"
				height="16"
				fill="none"
				stroke="currentColor"
				stroke-width="2"
				viewBox="0 0 24 24"
			>
				<path d="M9 6l6 6-6 6" />
			</svg>
		</button>
	</div>
}
